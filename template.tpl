___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Gartner Digital Markets Conversion Tracking",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Gartner Digital Markets conversion tracking snippet to track form fills and and performance from your PPC campaigns",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "campaignId",
    "displayName": "Campaign Id",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "campaignKey",
    "displayName": "Campaign Key",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const sendPixel = require('sendPixel');

const params = "?vid=" + data.campaignId + "&vkey=" + data.campaignKey;
const url = "https://ct.capterra.com/capterra_tracker.gif" + params;

if (data.campaignId && data.campaignKey) {
  sendPixel(url);
  data.gtmOnSuccess();
} else {
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://ct.capterra.com/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Missing campaignKey test
  code: |-
    runCode({ campaignId: "12345" });
    assertApi('gtmOnFailure').wasCalled();
- name: Missing campaignId test
  code: |-
    runCode({ campaignKey: "FFFFFFFF" });
    assertApi('gtmOnFailure').wasCalled();
- name: Successful tracking
  code: |-
    runCode({ campaignId: "12345", campaignKey: "FFFFFFFF" });
    assertApi('sendPixel').wasCalledWith("https://ct.capterra.com/capterra_tracker.gif?vid=12345&vkey=FFFFFFFF");
    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 19/04/2023, 20:52:59


